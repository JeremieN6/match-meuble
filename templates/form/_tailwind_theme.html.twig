{# Th√®me Twig pour styliser les formulaires avec TailwindCSS (palette primary/surface) #}
{% use 'form_div_layout.html.twig' %}

{%- block form_row -%}
    <div class="mb-5 last:mb-0">
        {{- form_label(form) -}}
        <div class="mt-1">
            {{- form_widget(form) -}}
        </div>
        {{- form_errors(form) -}}
    </div>
{%- endblock form_row -%}

{%- block form_label -%}
    {% if label is not same as(false) %}
        <label{% with { attr: attr|merge({ class: (attr.class|default('') ~ ' block text-sm font-medium text-gray-700 dark:text-gray-300')|trim }) } %}{{ block('attributes') }}{% endwith %}>{{- label|trans({}, translation_domain) -}}</label>
    {% endif %}
{%- endblock form_label -%}

{%- block form_widget_simple -%}
    {% set classes = 'block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm focus:ring-primary-500 focus:border-primary-500 placeholder-gray-400 dark:placeholder-gray-500' %}
    {% set attr = attr|merge({ class: (attr.class|default('') ~ ' ' ~ classes)|trim }) %}
    {{- parent() -}}
{%- endblock form_widget_simple -%}

{%- block textarea_widget -%}
    {% set classes = 'block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm focus:ring-primary-500 focus:border-primary-500 placeholder-gray-400 dark:placeholder-gray-500' %}
    {% set attr = attr|merge({ class: (attr.class|default('') ~ ' ' ~ classes)|trim, rows: attr.rows|default(4) }) %}
    {{- parent() -}}
{%- endblock textarea_widget -%}

{%- block choice_widget_collapsed -%}
    {% set classes = 'block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm focus:ring-primary-500 focus:border-primary-500' %}
    {% set attr = attr|merge({ class: (attr.class|default('') ~ ' ' ~ classes)|trim }) %}
    {{- parent() -}}
{%- endblock choice_widget_collapsed -%}

{%- block checkbox_widget -%}
    {% set classes = 'h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500' %}
    {% set attr = attr|merge({ class: (attr.class|default('') ~ ' ' ~ classes)|trim }) %}
    {{- parent() -}}
{%- endblock checkbox_widget -%}

{%- block radio_widget -%}
    {% set classes = 'h-4 w-4 border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500' %}
    {% set attr = attr|merge({ class: (attr.class|default('') ~ ' ' ~ classes)|trim }) %}
    {{- parent() -}}
{%- endblock radio_widget -%}

{%- block form_errors -%}
    {% if errors|length > 0 %}
        <ul class="mt-2 text-sm text-red-600 dark:text-red-400 space-y-1">
        {% for error in errors %}
            <li>{{ error.message }}</li>
        {% endfor %}
        </ul>
    {% endif %}
{%- endblock form_errors -%}

{%- block submit_widget -%}
    {% set classes = 'inline-flex items-center justify-center gap-2 rounded-lg bg-primary-600 px-4 py-2.5 text-white hover:bg-primary-700 focus:outline-none focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-800 transition' %}
    {% set attr = attr|merge({ class: (attr.class|default('') ~ ' ' ~ classes)|trim }) %}
    {{- parent() -}}
{%- endblock submit_widget -%}
